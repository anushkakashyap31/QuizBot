<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1280 1700" width="1280" height="1700" font-family="Arial, sans-serif">
  <rect width="1280" height="1700" fill="#ffffff"/>
  <rect width="1280" height="1700" fill="none" stroke="#d1d5db" stroke-width="1.5"/>

  <!-- TITLE -->
  <rect x="0" y="0" width="1280" height="50" fill="#1e3a5f"/>
  <text x="640" y="32" text-anchor="middle" font-size="16" font-weight="bold" fill="#ffffff">QuizBot ‚Äî Complete System Sequence Diagram</text>
  <text x="640" y="46" text-anchor="middle" font-size="9" fill="#93c5fd">Registration ¬∑ Login ¬∑ Quiz Generation ¬∑ Quiz Evaluation ¬∑ Token Refresh ¬∑ Logout   |   8 Actors ¬∑ 63 Steps</text>

  <defs>
    <marker id="ab" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto"><polygon points="0 0,7 2.5,0 5" fill="#1d4ed8"/></marker>
    <marker id="ag" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto"><polygon points="0 0,7 2.5,0 5" fill="#15803d"/></marker>
    <marker id="ar" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto"><polygon points="0 0,7 2.5,0 5" fill="#dc2626"/></marker>
    <marker id="ao" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto"><polygon points="0 0,7 2.5,0 5" fill="#b45309"/></marker>
    <marker id="ap" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto"><polygon points="0 0,7 2.5,0 5" fill="#7c3aed"/></marker>
    <marker id="ak" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto"><polygon points="0 0,7 2.5,0 5" fill="#059669"/></marker>
    <marker id="at" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto"><polygon points="0 0,7 2.5,0 5" fill="#d97706"/></marker>
    <marker id="as" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto"><polygon points="0 0,7 2.5,0 5" fill="#374151"/></marker>
  </defs>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       ACTOR HEADER ROW
       Positions: User=70, React=200, FastAPI=360, FirebaseAuth=510,
                  ChromaDB=660, Gemini=810, SQLite=960, FirebaseDB=1110
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

  <!-- User -->
  <rect x="22" y="58" width="96" height="40" rx="6" fill="#dbeafe" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="70" y="79" text-anchor="middle" font-size="10" font-weight="bold" fill="#1e40af">üë§ User</text>
  <text x="70" y="92" text-anchor="middle" font-size="8" fill="#1e40af">Browser</text>

  <!-- React -->
  <rect x="152" y="58" width="96" height="40" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1.5"/>
  <text x="200" y="79" text-anchor="middle" font-size="10" font-weight="bold" fill="#15803d">üñ•Ô∏è React</text>
  <text x="200" y="92" text-anchor="middle" font-size="8" fill="#15803d">Frontend</text>

  <!-- FastAPI -->
  <rect x="312" y="58" width="96" height="40" rx="6" fill="#fefce8" stroke="#ca8a04" stroke-width="1.5"/>
  <text x="360" y="79" text-anchor="middle" font-size="10" font-weight="bold" fill="#92400e">‚öôÔ∏è FastAPI</text>
  <text x="360" y="92" text-anchor="middle" font-size="8" fill="#92400e">Backend</text>

  <!-- Firebase Auth -->
  <rect x="462" y="58" width="96" height="40" rx="6" fill="#fee2e2" stroke="#dc2626" stroke-width="1.5"/>
  <text x="510" y="79" text-anchor="middle" font-size="10" font-weight="bold" fill="#991b1b">üî• Firebase</text>
  <text x="510" y="92" text-anchor="middle" font-size="8" fill="#991b1b">Auth</text>

  <!-- ChromaDB -->
  <rect x="612" y="58" width="96" height="40" rx="6" fill="#fff7ed" stroke="#ea580c" stroke-width="1.5"/>
  <text x="660" y="79" text-anchor="middle" font-size="10" font-weight="bold" fill="#c2410c">üß† Chroma</text>
  <text x="660" y="92" text-anchor="middle" font-size="8" fill="#c2410c">Vector DB</text>

  <!-- Gemini -->
  <rect x="762" y="58" width="96" height="40" rx="6" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="810" y="79" text-anchor="middle" font-size="10" font-weight="bold" fill="#047857">ü§ñ Gemini</text>
  <text x="810" y="92" text-anchor="middle" font-size="8" fill="#047857">AI API</text>

  <!-- SQLite -->
  <rect x="912" y="58" width="96" height="40" rx="6" fill="#f5f3ff" stroke="#7c3aed" stroke-width="1.5"/>
  <text x="960" y="79" text-anchor="middle" font-size="10" font-weight="bold" fill="#6d28d9">üóÉÔ∏è SQLite</text>
  <text x="960" y="92" text-anchor="middle" font-size="8" fill="#6d28d9">Database</text>

  <!-- Firebase DB -->
  <rect x="1062" y="58" width="96" height="40" rx="6" fill="#fef3c7" stroke="#d97706" stroke-width="1.5"/>
  <text x="1110" y="79" text-anchor="middle" font-size="10" font-weight="bold" fill="#92400e">üî• FB DB</text>
  <text x="1110" y="92" text-anchor="middle" font-size="8" fill="#92400e">Realtime</text>

  <!-- LIFELINES -->
  <line x1="70"   y1="98" x2="70"   y2="1670" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="5,4"/>
  <line x1="200"  y1="98" x2="200"  y2="1670" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="5,4"/>
  <line x1="360"  y1="98" x2="360"  y2="1670" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="5,4"/>
  <line x1="510"  y1="98" x2="510"  y2="1670" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="5,4"/>
  <line x1="660"  y1="98" x2="660"  y2="1670" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="5,4"/>
  <line x1="810"  y1="98" x2="810"  y2="1670" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="5,4"/>
  <line x1="960"  y1="98" x2="960"  y2="1670" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="5,4"/>
  <line x1="1110" y1="98" x2="1110" y2="1670" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="5,4"/>

  <!-- ACTIVATION BARS -->
  <rect x="66"  y="112" width="8" height="1550" rx="2" fill="#bfdbfe" opacity="0.6"/>
  <rect x="196" y="112" width="8" height="1550" rx="2" fill="#bbf7d0" opacity="0.6"/>
  <rect x="356" y="200" width="8" height="1270" rx="2" fill="#fde68a" opacity="0.6"/>
  <rect x="506" y="160" width="8" height="430"  rx="2" fill="#fecaca" opacity="0.6"/>
  <rect x="656" y="590" width="8" height="140"  rx="2" fill="#fed7aa" opacity="0.6"/>
  <rect x="806" y="680" width="8" height="290"  rx="2" fill="#a7f3d0" opacity="0.6"/>
  <rect x="956" y="790" width="8" height="570"  rx="2" fill="#ddd6fe" opacity="0.6"/>
  <rect x="1106" y="1060" width="8" height="160" rx="2" fill="#fef3c7" opacity="0.6"/>

  <!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
  <!-- ‚ïë  SECTION 1 ‚Äî REGISTRATION               ‚ïë -->
  <!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
  <rect x="10" y="110" width="1260" height="22" rx="4" fill="#dbeafe" stroke="#93c5fd" stroke-width="1"/>
  <text x="16" y="125" font-size="9" font-weight="bold" fill="#1e40af">  SECTION 1 ‚Äî USER REGISTRATION</text>

  <!-- step rows: y starts at 145, each step = 18px -->
  <!-- 1 -->
  <line x1="74" y1="148" x2="192" y2="148" stroke="#1d4ed8" stroke-width="1.4" marker-end="url(#ab)"/>
  <rect x="78" y="138" width="110" height="13" rx="3" fill="#eff6ff"/>
  <text x="133" y="148" text-anchor="middle" font-size="7.5" fill="#1e40af">1. Fill Registration Form</text>

  <!-- 2 -->
  <line x1="204" y1="164" x2="502" y2="164" stroke="#dc2626" stroke-width="1.4" marker-end="url(#ar)"/>
  <rect x="264" y="154" width="174" height="13" rx="3" fill="#fee2e2"/>
  <text x="351" y="164" text-anchor="middle" font-size="7.5" fill="#991b1b">2. createUserWithEmailAndPassword(email, pw)</text>

  <!-- 3 note -->
  <rect x="430" y="174" width="168" height="13" rx="3" fill="#fef9c3" stroke="#ca8a04" stroke-width="0.8"/>
  <text x="514" y="184" text-anchor="middle" font-size="7" fill="#92400e">üîí Firebase hashes password internally</text>

  <!-- 4 -->
  <line x1="502" y1="196" x2="208" y2="196" stroke="#dc2626" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ar)"/>
  <rect x="270" y="186" width="174" height="13" rx="3" fill="#fee2e2"/>
  <text x="357" y="196" text-anchor="middle" font-size="7.5" fill="#991b1b">3. Firebase ID Token (1 hr) returned</text>

  <!-- 5 -->
  <line x1="204" y1="212" x2="352" y2="212" stroke="#b45309" stroke-width="1.4" marker-end="url(#ao)"/>
  <rect x="210" y="202" width="138" height="13" rx="3" fill="#fef9c3"/>
  <text x="279" y="212" text-anchor="middle" font-size="7.5" fill="#92400e">4. POST /api/auth/register + token</text>

  <!-- 6 -->
  <line x1="364" y1="228" x2="502" y2="228" stroke="#dc2626" stroke-width="1.4" marker-end="url(#ar)"/>
  <rect x="368" y="218" width="130" height="13" rx="3" fill="#fee2e2"/>
  <text x="433" y="228" text-anchor="middle" font-size="7.5" fill="#991b1b">5. verify_id_token(token)</text>

  <!-- 7 -->
  <line x1="502" y1="244" x2="368" y2="244" stroke="#dc2626" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ar)"/>
  <rect x="368" y="234" width="130" height="13" rx="3" fill="#fee2e2"/>
  <text x="433" y="244" text-anchor="middle" font-size="7.5" fill="#991b1b">6. uid + email confirmed</text>

  <!-- 8 -->
  <line x1="364" y1="260" x2="952" y2="260" stroke="#7c3aed" stroke-width="1.4" marker-end="url(#ap)"/>
  <rect x="560" y="250" width="244" height="13" rx="3" fill="#f5f3ff"/>
  <text x="682" y="260" text-anchor="middle" font-size="7.5" fill="#6d28d9">7. INSERT INTO users (uid, email, full_name) ‚Äî SQLAlchemy ORM</text>

  <!-- 9 -->
  <line x1="952" y1="276" x2="368" y2="276" stroke="#7c3aed" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ap)"/>
  <rect x="560" y="266" width="244" height="13" rx="3" fill="#f5f3ff"/>
  <text x="682" y="276" text-anchor="middle" font-size="7.5" fill="#6d28d9">8. user_id saved ‚Üí OK</text>

  <!-- 10 -->
  <line x1="352" y1="292" x2="208" y2="292" stroke="#b45309" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ao)"/>
  <rect x="210" y="282" width="138" height="13" rx="3" fill="#fef9c3"/>
  <text x="279" y="292" text-anchor="middle" font-size="7.5" fill="#92400e">9. Return JWT token + user data</text>

  <!-- 11 -->
  <line x1="192" y1="308" x2="78" y2="308" stroke="#15803d" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ag)"/>
  <rect x="82" y="298" width="106" height="13" rx="3" fill="#dcfce7"/>
  <text x="135" y="308" text-anchor="middle" font-size="7.5" fill="#15803d">10. Redirect to /login</text>

  <!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
  <!-- ‚ïë  SECTION 2 ‚Äî LOGIN                      ‚ïë -->
  <!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
  <rect x="10" y="320" width="1260" height="22" rx="4" fill="#dcfce7" stroke="#86efac" stroke-width="1"/>
  <text x="16" y="335" font-size="9" font-weight="bold" fill="#15803d">  SECTION 2 ‚Äî USER LOGIN</text>

  <!-- 12 -->
  <line x1="74" y1="354" x2="192" y2="354" stroke="#1d4ed8" stroke-width="1.4" marker-end="url(#ab)"/>
  <rect x="78" y="344" width="110" height="13" rx="3" fill="#eff6ff"/>
  <text x="133" y="354" text-anchor="middle" font-size="7.5" fill="#1e40af">11. Enter Email + Password</text>

  <!-- 13 -->
  <line x1="204" y1="370" x2="502" y2="370" stroke="#dc2626" stroke-width="1.4" marker-end="url(#ar)"/>
  <rect x="264" y="360" width="174" height="13" rx="3" fill="#fee2e2"/>
  <text x="351" y="370" text-anchor="middle" font-size="7.5" fill="#991b1b">12. signInWithEmailAndPassword(email, pw)</text>

  <!-- 14 -->
  <line x1="502" y1="386" x2="208" y2="386" stroke="#dc2626" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ar)"/>
  <rect x="270" y="376" width="174" height="13" rx="3" fill="#fee2e2"/>
  <text x="357" y="386" text-anchor="middle" font-size="7.5" fill="#991b1b">13. Firebase ID Token (1 hr) returned</text>

  <!-- 15 -->
  <line x1="204" y1="402" x2="352" y2="402" stroke="#b45309" stroke-width="1.4" marker-end="url(#ao)"/>
  <rect x="210" y="392" width="138" height="13" rx="3" fill="#fef9c3"/>
  <text x="279" y="402" text-anchor="middle" font-size="7.5" fill="#92400e">14. POST /api/auth/login + token</text>

  <!-- 16 -->
  <line x1="364" y1="418" x2="502" y2="418" stroke="#dc2626" stroke-width="1.4" marker-end="url(#ar)"/>
  <rect x="368" y="408" width="130" height="13" rx="3" fill="#fee2e2"/>
  <text x="433" y="418" text-anchor="middle" font-size="7.5" fill="#991b1b">15. verify_id_token(token)</text>

  <!-- 17 -->
  <line x1="502" y1="434" x2="368" y2="434" stroke="#dc2626" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ar)"/>
  <rect x="368" y="424" width="130" height="13" rx="3" fill="#fee2e2"/>
  <text x="433" y="434" text-anchor="middle" font-size="7.5" fill="#991b1b">16. uid confirmed</text>

  <!-- 18 -->
  <line x1="352" y1="450" x2="208" y2="450" stroke="#b45309" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ao)"/>
  <rect x="210" y="440" width="138" height="13" rx="3" fill="#fef9c3"/>
  <text x="279" y="450" text-anchor="middle" font-size="7.5" fill="#92400e">17. JWT (python-jose, 1 hr) issued</text>

  <!-- 19 note -->
  <rect x="120" y="456" width="162" height="13" rx="3" fill="#dcfce7" stroke="#86efac" stroke-width="0.8"/>
  <text x="201" y="466" text-anchor="middle" font-size="7" fill="#15803d">18. Store JWT localStorage + authStore</text>

  <!-- 20 -->
  <line x1="192" y1="478" x2="78" y2="478" stroke="#15803d" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ag)"/>
  <rect x="82" y="468" width="106" height="13" rx="3" fill="#dcfce7"/>
  <text x="135" y="478" text-anchor="middle" font-size="7.5" fill="#15803d">19. Redirect /dashboard</text>

  <!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
  <!-- ‚ïë  SECTION 3 ‚Äî QUIZ GENERATION            ‚ïë -->
  <!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
  <rect x="10" y="492" width="1260" height="22" rx="4" fill="#fefce8" stroke="#fde68a" stroke-width="1"/>
  <text x="16" y="507" font-size="9" font-weight="bold" fill="#92400e">  SECTION 3 ‚Äî QUIZ GENERATION</text>

  <!-- 21 -->
  <line x1="74" y1="526" x2="192" y2="526" stroke="#1d4ed8" stroke-width="1.4" marker-end="url(#ab)"/>
  <rect x="78" y="516" width="110" height="13" rx="3" fill="#eff6ff"/>
  <text x="133" y="526" text-anchor="middle" font-size="7.5" fill="#1e40af">20. Paste email text</text>

  <!-- 22 -->
  <line x1="74" y1="542" x2="192" y2="542" stroke="#1d4ed8" stroke-width="1.4" marker-end="url(#ab)"/>
  <rect x="78" y="532" width="110" height="13" rx="3" fill="#eff6ff"/>
  <text x="133" y="542" text-anchor="middle" font-size="7.5" fill="#1e40af">21. Select N questions</text>

  <!-- 23 -->
  <line x1="74" y1="558" x2="192" y2="558" stroke="#1d4ed8" stroke-width="1.4" marker-end="url(#ab)"/>
  <rect x="78" y="548" width="110" height="13" rx="3" fill="#eff6ff"/>
  <text x="133" y="558" text-anchor="middle" font-size="7.5" fill="#1e40af">22. Click "Generate Quiz"</text>

  <!-- 24 -->
  <line x1="204" y1="574" x2="352" y2="574" stroke="#b45309" stroke-width="1.4" marker-end="url(#ao)"/>
  <rect x="210" y="564" width="138" height="13" rx="3" fill="#fef9c3"/>
  <text x="279" y="574" text-anchor="middle" font-size="7.5" fill="#92400e">23. POST /api/quiz/generate + JWT</text>

  <!-- 25 note -->
  <rect x="282" y="578" width="152" height="13" rx="3" fill="#fef9c3" stroke="#ca8a04" stroke-width="0.8"/>
  <text x="358" y="588" text-anchor="middle" font-size="7" fill="#92400e">24. JWT Middleware validates token</text>

  <!-- 26 -->
  <line x1="364" y1="602" x2="652" y2="602" stroke="#c2410c" stroke-width="1.4" marker-end="url(#ao)"/>
  <rect x="390" y="592" width="258" height="13" rx="3" fill="#fff7ed"/>
  <text x="519" y="602" text-anchor="middle" font-size="7.5" fill="#c2410c">25. Encode email text ‚Üí 384-dim vector (MiniLM-L6-v2)</text>

  <!-- 27 -->
  <rect x="572" y="606" width="176" height="13" rx="3" fill="#fff7ed" stroke="#fed7aa" stroke-width="0.8"/>
  <text x="660" y="616" text-anchor="middle" font-size="7" fill="#c2410c">26. Store embedding (ChromaDB.add)</text>

  <!-- 28 -->
  <line x1="652" y1="628" x2="368" y2="628" stroke="#c2410c" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ao)"/>
  <rect x="390" y="618" width="258" height="13" rx="3" fill="#fff7ed"/>
  <text x="519" y="628" text-anchor="middle" font-size="7.5" fill="#c2410c">27. chroma_doc_id returned</text>

  <!-- 29 Gemini -->
  <line x1="364" y1="650" x2="802" y2="650" stroke="#059669" stroke-width="1.4" marker-end="url(#ak)"/>
  <rect x="456" y="640" width="344" height="13" rx="3" fill="#ecfdf5"/>
  <text x="628" y="650" text-anchor="middle" font-size="7.5" fill="#047857">28. Gemini API: "Generate N MCQs from donor email text ‚Äî return JSON"</text>

  <!-- 30 retry badge -->
  <rect x="722" y="654" width="178" height="22" rx="4" fill="#fef9c3" stroke="#ca8a04" stroke-width="0.8"/>
  <text x="811" y="665" text-anchor="middle" font-size="7" fill="#92400e">‚ü≥ Retry: 5 attempts, 2^n sec + jitter</text>
  <text x="811" y="674" text-anchor="middle" font-size="7" fill="#92400e">Fallback response on all-fail</text>

  <!-- 31 -->
  <line x1="802" y1="686" x2="368" y2="686" stroke="#059669" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ak)"/>
  <rect x="456" y="676" width="344" height="13" rx="3" fill="#ecfdf5"/>
  <text x="628" y="686" text-anchor="middle" font-size="7.5" fill="#047857">29. Structured quiz JSON { quiz_id, questions[ ], options[ ], correct_answer }</text>

  <!-- 32 save SQLite -->
  <line x1="364" y1="702" x2="952" y2="702" stroke="#7c3aed" stroke-width="1.4" marker-end="url(#ap)"/>
  <rect x="540" y="692" width="316" height="13" rx="3" fill="#f5f3ff"/>
  <text x="698" y="702" text-anchor="middle" font-size="7.5" fill="#6d28d9">30. INSERT INTO quizzes + questions (ORM) ‚Äî chroma_doc_id linked</text>

  <!-- 33 -->
  <line x1="952" y1="718" x2="368" y2="718" stroke="#7c3aed" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ap)"/>
  <rect x="540" y="708" width="316" height="13" rx="3" fill="#f5f3ff"/>
  <text x="698" y="718" text-anchor="middle" font-size="7.5" fill="#6d28d9">31. quiz_id confirmed, records saved</text>

  <!-- 34 -->
  <line x1="352" y1="734" x2="208" y2="734" stroke="#b45309" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ao)"/>
  <rect x="210" y="724" width="138" height="13" rx="3" fill="#fef9c3"/>
  <text x="279" y="734" text-anchor="middle" font-size="7.5" fill="#92400e">32. Return quiz JSON to frontend</text>

  <!-- 35 -->
  <rect x="120" y="738" width="162" height="13" rx="3" fill="#dcfce7" stroke="#86efac" stroke-width="0.8"/>
  <text x="201" y="748" text-anchor="middle" font-size="7" fill="#15803d">33. quizStore.setQuiz() ‚Äî render QuizInterface</text>

  <!-- 36 -->
  <line x1="192" y1="762" x2="78" y2="762" stroke="#15803d" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ag)"/>
  <rect x="82" y="752" width="106" height="13" rx="3" fill="#dcfce7"/>
  <text x="135" y="762" text-anchor="middle" font-size="7.5" fill="#15803d">34. Quiz questions rendered</text>

  <!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
  <!-- ‚ïë  SECTION 4 ‚Äî QUIZ EVALUATION            ‚ïë -->
  <!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
  <rect x="10" y="776" width="1260" height="22" rx="4" fill="#ecfdf5" stroke="#a7f3d0" stroke-width="1"/>
  <text x="16" y="791" font-size="9" font-weight="bold" fill="#047857">  SECTION 4 ‚Äî QUIZ EVALUATION &amp; SUBMISSION</text>

  <!-- 37 -->
  <line x1="74" y1="808" x2="192" y2="808" stroke="#1d4ed8" stroke-width="1.4" marker-end="url(#ab)"/>
  <rect x="78" y="798" width="110" height="13" rx="3" fill="#eff6ff"/>
  <text x="133" y="808" text-anchor="middle" font-size="7.5" fill="#1e40af">35. Select answer per Q</text>

  <!-- 38 note -->
  <rect x="120" y="812" width="162" height="13" rx="3" fill="#dcfce7" stroke="#86efac" stroke-width="0.8"/>
  <text x="201" y="822" text-anchor="middle" font-size="7" fill="#15803d">36. quizStore.setAnswer(qId, option)</text>

  <!-- 39 -->
  <line x1="74" y1="836" x2="192" y2="836" stroke="#1d4ed8" stroke-width="1.4" marker-end="url(#ab)"/>
  <rect x="78" y="826" width="110" height="13" rx="3" fill="#eff6ff"/>
  <text x="133" y="836" text-anchor="middle" font-size="7.5" fill="#1e40af">37. Click "Submit Quiz"</text>

  <!-- 40 validate note -->
  <rect x="120" y="840" width="162" height="13" rx="3" fill="#dcfce7" stroke="#86efac" stroke-width="0.8"/>
  <text x="201" y="850" text-anchor="middle" font-size="7" fill="#15803d">38. Validate all questions answered</text>

  <!-- 41 -->
  <line x1="204" y1="864" x2="352" y2="864" stroke="#b45309" stroke-width="1.4" marker-end="url(#ao)"/>
  <rect x="210" y="854" width="138" height="13" rx="3" fill="#fef9c3"/>
  <text x="279" y="864" text-anchor="middle" font-size="7.5" fill="#92400e">39. POST /api/quiz/evaluate + JWT</text>

  <!-- 42 note -->
  <rect x="282" y="868" width="152" height="13" rx="3" fill="#fef9c3" stroke="#ca8a04" stroke-width="0.8"/>
  <text x="358" y="878" text-anchor="middle" font-size="7" fill="#92400e">40. JWT validated, quiz data loaded</text>

  <!-- LOOP BOX -->
  <rect x="10" y="884" width="1260" height="172" rx="5" fill="none" stroke="#a7f3d0" stroke-width="1.5" stroke-dasharray="7,4"/>
  <rect x="10" y="884" width="82" height="18" rx="4" fill="#ecfdf5" stroke="#059669" stroke-width="1"/>
  <text x="51" y="897" text-anchor="middle" font-size="8" font-weight="bold" fill="#047857">loop [per Q]</text>

  <!-- 43 -->
  <line x1="364" y1="912" x2="802" y2="912" stroke="#059669" stroke-width="1.4" marker-end="url(#ak)"/>
  <rect x="456" y="902" width="344" height="13" rx="3" fill="#ecfdf5"/>
  <text x="628" y="912" text-anchor="middle" font-size="7.5" fill="#047857">41. Gemini: "Is answer X correct for Q? Give explanation." (per question)</text>

  <!-- 44 -->
  <line x1="802" y1="930" x2="368" y2="930" stroke="#059669" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ak)"/>
  <rect x="456" y="920" width="344" height="13" rx="3" fill="#ecfdf5"/>
  <text x="628" y="930" text-anchor="middle" font-size="7.5" fill="#047857">42. { is_correct: true/false, explanation: "..." }</text>

  <!-- 45 -->
  <line x1="364" y1="950" x2="802" y2="950" stroke="#059669" stroke-width="1.4" marker-end="url(#ak)"/>
  <rect x="456" y="940" width="344" height="13" rx="3" fill="#ecfdf5"/>
  <text x="628" y="950" text-anchor="middle" font-size="7.5" fill="#047857">43. Gemini: "Summarise user performance across all questions."</text>

  <!-- 46 -->
  <line x1="802" y1="968" x2="368" y2="968" stroke="#059669" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ak)"/>
  <rect x="456" y="958" width="344" height="13" rx="3" fill="#ecfdf5"/>
  <text x="628" y="968" text-anchor="middle" font-size="7.5" fill="#047857">44. AI summary paragraph returned</text>

  <!-- 47 note -->
  <rect x="282" y="976" width="152" height="13" rx="3" fill="#fef9c3" stroke="#ca8a04" stroke-width="0.8"/>
  <text x="358" y="986" text-anchor="middle" font-size="7" fill="#92400e">45. Score calculated, QuizResult built</text>

  <!-- end loop -->
  <rect x="282" y="992" width="152" height="13" rx="3" fill="#fef9c3" stroke="#ca8a04" stroke-width="0.8"/>
  <text x="358" y="1002" text-anchor="middle" font-size="7" fill="#92400e">46. All questions evaluated ‚Üí end loop</text>

  <!-- 48 SQLite -->
  <line x1="364" y1="1070" x2="952" y2="1070" stroke="#7c3aed" stroke-width="1.4" marker-end="url(#ap)"/>
  <rect x="540" y="1060" width="316" height="13" rx="3" fill="#f5f3ff"/>
  <text x="698" y="1070" text-anchor="middle" font-size="7.5" fill="#6d28d9">47. INSERT INTO quiz_results + question_results + UPDATE user_progress</text>

  <!-- 49 -->
  <line x1="952" y1="1086" x2="368" y2="1086" stroke="#7c3aed" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ap)"/>
  <rect x="540" y="1076" width="316" height="13" rx="3" fill="#f5f3ff"/>
  <text x="698" y="1086" text-anchor="middle" font-size="7.5" fill="#6d28d9">48. result_id saved, user_progress updated</text>

  <!-- 50 Firebase DB write -->
  <line x1="364" y1="1102" x2="1102" y2="1102" stroke="#d97706" stroke-width="1.4" marker-end="url(#at)"/>
  <rect x="600" y="1092" width="396" height="13" rx="3" fill="#fef3c7"/>
  <text x="798" y="1102" text-anchor="middle" font-size="7.5" fill="#92400e">49. Write quiz_history/{uid}/{quiz_id} ‚Äî score + results + timestamp</text>

  <!-- 51 -->
  <line x1="1102" y1="1118" x2="368" y2="1118" stroke="#d97706" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#at)"/>
  <rect x="600" y="1108" width="396" height="13" rx="3" fill="#fef3c7"/>
  <text x="798" y="1118" text-anchor="middle" font-size="7.5" fill="#92400e">50. Firebase write confirmed</text>

  <!-- 52 return -->
  <line x1="352" y1="1134" x2="208" y2="1134" stroke="#b45309" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ao)"/>
  <rect x="210" y="1124" width="138" height="13" rx="3" fill="#fef9c3"/>
  <text x="279" y="1134" text-anchor="middle" font-size="7.5" fill="#92400e">51. Return QuizResult JSON</text>

  <!-- 53 show result -->
  <line x1="192" y1="1150" x2="78" y2="1150" stroke="#15803d" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ag)"/>
  <rect x="82" y="1140" width="106" height="13" rx="3" fill="#dcfce7"/>
  <text x="135" y="1150" text-anchor="middle" font-size="7.5" fill="#15803d">52. ResultCard + score rendered</text>

  <!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
  <!-- ‚ïë  SECTION 5 ‚Äî TOKEN REFRESH              ‚ïë -->
  <!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
  <rect x="10" y="1164" width="1260" height="22" rx="4" fill="#fef9c3" stroke="#fde68a" stroke-width="1"/>
  <text x="16" y="1179" font-size="9" font-weight="bold" fill="#92400e">  SECTION 5 ‚Äî TOKEN EXPIRY &amp; SILENT REFRESH  (~60 min into session)</text>

  <!-- 54 -->
  <line x1="204" y1="1198" x2="352" y2="1198" stroke="#b45309" stroke-width="1.4" marker-end="url(#ao)"/>
  <rect x="210" y="1188" width="138" height="13" rx="3" fill="#fef9c3"/>
  <text x="279" y="1198" text-anchor="middle" font-size="7.5" fill="#92400e">53. API request with expired JWT</text>

  <!-- 55 -->
  <rect x="282" y="1202" width="152" height="13" rx="3" fill="#fee2e2" stroke="#dc2626" stroke-width="0.8"/>
  <text x="358" y="1212" text-anchor="middle" font-size="7" fill="#991b1b">54. JWT expired ‚Üí 401 Unauthorized returned</text>

  <!-- 56 -->
  <line x1="352" y1="1224" x2="208" y2="1224" stroke="#dc2626" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ar)"/>
  <rect x="210" y="1214" width="138" height="13" rx="3" fill="#fee2e2"/>
  <text x="279" y="1224" text-anchor="middle" font-size="7.5" fill="#991b1b">55. Axios intercepts 401</text>

  <!-- 57 -->
  <line x1="204" y1="1240" x2="502" y2="1240" stroke="#dc2626" stroke-width="1.4" marker-end="url(#ar)"/>
  <rect x="264" y="1230" width="174" height="13" rx="3" fill="#fee2e2"/>
  <text x="351" y="1240" text-anchor="middle" font-size="7.5" fill="#991b1b">56. getIdToken(true) ‚Äî silent Firebase refresh</text>

  <!-- 58 -->
  <line x1="502" y1="1256" x2="208" y2="1256" stroke="#dc2626" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ar)"/>
  <rect x="264" y="1246" width="174" height="13" rx="3" fill="#fee2e2"/>
  <text x="351" y="1256" text-anchor="middle" font-size="7.5" fill="#991b1b">57. New Firebase ID Token (1 hr)</text>

  <!-- 59 -->
  <line x1="204" y1="1272" x2="352" y2="1272" stroke="#b45309" stroke-width="1.4" marker-end="url(#ao)"/>
  <rect x="210" y="1262" width="138" height="13" rx="3" fill="#fef9c3"/>
  <text x="279" y="1272" text-anchor="middle" font-size="7.5" fill="#92400e">58. POST /api/auth/login ‚Üí new JWT</text>

  <!-- 60 note -->
  <rect x="120" y="1276" width="162" height="13" rx="3" fill="#dcfce7" stroke="#86efac" stroke-width="0.8"/>
  <text x="201" y="1286" text-anchor="middle" font-size="7" fill="#15803d">59. New JWT stored, request retried</text>

  <!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
  <!-- ‚ïë  SECTION 6 ‚Äî LOGOUT                     ‚ïë -->
  <!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
  <rect x="10" y="1300" width="1260" height="22" rx="4" fill="#fee2e2" stroke="#fecaca" stroke-width="1"/>
  <text x="16" y="1315" font-size="9" font-weight="bold" fill="#991b1b">  SECTION 6 ‚Äî LOGOUT &amp; SESSION CLEANUP</text>

  <!-- 61 -->
  <line x1="74" y1="1334" x2="192" y2="1334" stroke="#1d4ed8" stroke-width="1.4" marker-end="url(#ab)"/>
  <rect x="78" y="1324" width="110" height="13" rx="3" fill="#eff6ff"/>
  <text x="133" y="1334" text-anchor="middle" font-size="7.5" fill="#1e40af">60. Click Logout button</text>

  <!-- 62 -->
  <line x1="204" y1="1350" x2="502" y2="1350" stroke="#dc2626" stroke-width="1.4" marker-end="url(#ar)"/>
  <rect x="264" y="1340" width="174" height="13" rx="3" fill="#fee2e2"/>
  <text x="351" y="1350" text-anchor="middle" font-size="7.5" fill="#991b1b">61. Firebase signOut() called</text>

  <!-- 63 note -->
  <rect x="120" y="1356" width="162" height="13" rx="3" fill="#dcfce7" stroke="#86efac" stroke-width="0.8"/>
  <text x="201" y="1366" text-anchor="middle" font-size="7" fill="#15803d">62. localStorage.clear() ‚Äî JWT removed</text>

  <!-- 64 note -->
  <rect x="120" y="1372" width="162" height="13" rx="3" fill="#dcfce7" stroke="#86efac" stroke-width="0.8"/>
  <text x="201" y="1382" text-anchor="middle" font-size="7" fill="#15803d">63. authStore.logout() + quizStore.reset()</text>

  <!-- 65 -->
  <line x1="192" y1="1396" x2="78" y2="1396" stroke="#15803d" stroke-width="1.4" stroke-dasharray="4,3" marker-end="url(#ag)"/>
  <rect x="82" y="1386" width="106" height="13" rx="3" fill="#dcfce7"/>
  <text x="135" y="1396" text-anchor="middle" font-size="7.5" fill="#15803d">64. Redirect to /login</text>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       FOOTER LEGEND
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect x="10" y="1420" width="1260" height="96" rx="6" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>

  <!-- Section colours -->
  <text x="24" y="1440" font-size="8.5" font-weight="bold" fill="#374151">Sections:</text>
  <rect x="90" y="1428" width="102" height="16" rx="8" fill="#dbeafe"/><text x="141" y="1440" text-anchor="middle" font-size="8" fill="#1e40af">1. Registration</text>
  <rect x="200" y="1428" width="80" height="16" rx="8" fill="#dcfce7"/><text x="240" y="1440" text-anchor="middle" font-size="8" fill="#15803d">2. Login</text>
  <rect x="288" y="1428" width="110" height="16" rx="8" fill="#fefce8"/><text x="343" y="1440" text-anchor="middle" font-size="8" fill="#92400e">3. Quiz Generation</text>
  <rect x="406" y="1428" width="100" height="16" rx="8" fill="#ecfdf5"/><text x="456" y="1440" text-anchor="middle" font-size="8" fill="#047857">4. Evaluation</text>
  <rect x="514" y="1428" width="100" height="16" rx="8" fill="#fef9c3"/><text x="564" y="1440" text-anchor="middle" font-size="8" fill="#92400e">5. Token Refresh</text>
  <rect x="622" y="1428" width="80" height="16" rx="8" fill="#fee2e2"/><text x="662" y="1440" text-anchor="middle" font-size="8" fill="#991b1b">6. Logout</text>

  <!-- Line types -->
  <text x="24" y="1464" font-size="8.5" font-weight="bold" fill="#374151">Lines:</text>
  <line x1="72" y1="1462" x2="110" y2="1462" stroke="#374151" stroke-width="1.5"/><polygon points="108,1459 116,1462 108,1465" fill="#374151"/>
  <text x="120" y="1466" font-size="8" fill="#374151">Synchronous call</text>
  <line x1="200" y1="1462" x2="238" y2="1462" stroke="#374151" stroke-width="1.5" stroke-dasharray="4,3"/><polygon points="236,1459 244,1462 236,1465" fill="#374151"/>
  <text x="248" y="1466" font-size="8" fill="#374151">Return / Response</text>
  <rect x="328" y="1455" width="50" height="12" rx="3" fill="#fef9c3" stroke="#ca8a04" stroke-width="0.8"/>
  <text x="353" y="1465" text-anchor="middle" font-size="7.5" fill="#92400e">yellow box</text>
  <text x="382" y="1466" font-size="8" fill="#374151">= internal action / note</text>

  <!-- Actors -->
  <text x="24" y="1488" font-size="8.5" font-weight="bold" fill="#374151">Actors:</text>
  <rect x="80"  y="1476" width="76" height="16" rx="4" fill="#dbeafe"/>  <text x="118" y="1488" text-anchor="middle" font-size="8" fill="#1e40af">User</text>
  <rect x="164" y="1476" width="86" height="16" rx="4" fill="#dcfce7"/>  <text x="207" y="1488" text-anchor="middle" font-size="8" fill="#15803d">React Frontend</text>
  <rect x="258" y="1476" width="86" height="16" rx="4" fill="#fefce8"/>  <text x="301" y="1488" text-anchor="middle" font-size="8" fill="#92400e">FastAPI Backend</text>
  <rect x="352" y="1476" width="86" height="16" rx="4" fill="#fee2e2"/>  <text x="395" y="1488" text-anchor="middle" font-size="8" fill="#991b1b">Firebase Auth</text>
  <rect x="446" y="1476" width="76" height="16" rx="4" fill="#fff7ed"/>  <text x="484" y="1488" text-anchor="middle" font-size="8" fill="#c2410c">ChromaDB</text>
  <rect x="530" y="1476" width="80" height="16" rx="4" fill="#ecfdf5"/>  <text x="570" y="1488" text-anchor="middle" font-size="8" fill="#047857">Gemini API</text>
  <rect x="618" y="1476" width="76" height="16" rx="4" fill="#f5f3ff"/>  <text x="656" y="1488" text-anchor="middle" font-size="8" fill="#6d28d9">SQLite DB</text>
  <rect x="702" y="1476" width="90" height="16" rx="4" fill="#fef3c7"/>  <text x="747" y="1488" text-anchor="middle" font-size="8" fill="#92400e">Firebase DB</text>

  <text x="900" y="1505" text-anchor="middle" font-size="8" fill="#9ca3af">QuizBot HLD ‚Äî Complete System Sequence Diagram  ¬∑  8 Actors  ¬∑  64 Steps  ¬∑  6 Sections</text>
</svg>
